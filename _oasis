OASISFormat:  0.4
OCamlVersion: >= 4.02.3
Name:         brotli
Version:      0.1
Maintainers:  Edgar Aroutiounian
Homepage:     http://hyegar.com
Synopsis:     Bindings to Google's Brotli compresion algorithm
Authors:      Edgar Aroutiounian <edgar.factorial@gmail.com>
License:      BSD-3-clause
Plugins:      META (0.4), DevFiles (0.4)
AlphaFeatures: ocamlbuild_more_args

# PreBuildCommand:
#   python3 build.py

Description:
  OCaml Bindings to brotli, Google's new compression algorithm

  Source: https://github.com/google/brotli/
  RFC: http://www.ietf.org/id/draft-alakuijala-brotli
  Comes with command line tool called brozip

Executable brozip
  Path: src/app
  BuildTools:ocamlbuild
  install: true
  MainIs: main.ml
  CompiledObject: native
  BuildDepends: cmdliner, brotli, lwt.unix

Library brotli
  Path: src/lib
  BuildTools:ocamlbuild
  install: true
  CClib: -lbrotli -lstdc++
  CCOpt: -g -Wall -std=c++11 -x c++
  NativeOpt: -cc clang
  ByteOpt: -cc clang
  Modules: Brotli
  # InternalModules: 
  CompiledObject: best
  CSources: brotli_stubs.c
